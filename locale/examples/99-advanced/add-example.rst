
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "examples/99-advanced/add-example.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        :ref:`Go to the end <sphx_glr_download_examples_99-advanced_add-example.py>`
        to download the full example code

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_examples_99-advanced_add-example.py:


.. _add_example_example:

Adding a New Gallery Example
----------------------------
This example demonstrates how to add a new PyVista `Sphinx Gallery
<https://sphinx-gallery.github.io/>`_ example as well as being a template that
can be used in their creation.

Each example should have a reference tag/key in the form:

``.. _<example-name>_example:``

The ``.. _`` is necessary. Everything that follows is your reference tag, which
can potentially be used within a docstring. As convention, we keep all
references all in ``snake_case``.

This section should give a brief overview of what the example is about and/or
demonstrates.  The title should be changed to reflect the topic your example
covers.

New examples should be added as python scripts to:

``examples/<index>-<directory-name>/<some-example>.py``

.. note::
   Avoid creating new directories unless absolutely necessary.If you *must*
   create a new folder, make sure to add a ``README.txt`` containing a
   reference, a title and a single sentence description of the folder.
   Otherwise the new folder will be ignored by Sphinx.

Example file names should be hyphen separated snake case:

``some-example.py``

After this preamble is complete, the first code block begins. This is where you
typically set up your imports.

.. note::
   By default, the documentation scrapper will generate both a static image and
   an interactive widget for each plot. If you want to turn this feature off
   define at the top of your file:


   ``# sphinx_gallery_start_ignore``

   ``PYVISTA_GALLERY_FORCE_STATIC_IN_DOCUMENT = True``

   ``# sphinx_gallery_end_ignore``

   If you want to use static images only for some of your plots. Define
   ``PYVISTA_GALLERY_FORCE_STATIC`` before the ``plot``/``show`` command that
   produces the image you want to turn into static.

   .. code-block::

       ...
       pl.show()  # this will be interactive plot

       ...
       pl.show()  # this will be static plot

.. GENERATED FROM PYTHON SOURCE LINES 68-72

.. code-block:: default


    import pyvista as pv
    from pyvista import examples








.. GENERATED FROM PYTHON SOURCE LINES 73-87

Section Title
~~~~~~~~~~~~~
Code blocks can be broken up with text "sections" which are interpreted as
restructured text.

This will also be translated into a markdown cell in the generated jupyter
notebook or the HTML page.

Sections can contain any information you may have regarding the example
such as step-by-step comments or notes regarding motivations etc.

As in Jupyter notebooks, if a statement is unassigned at the end of a code
block, output will be generated and printed to the screen according to its
``__repr__`` method.  Otherwise, you can use ``print()`` to output text.

.. GENERATED FROM PYTHON SOURCE LINES 87-93

.. code-block:: default


    # Create a dataset and exercise it's repr method
    dataset = pv.Sphere()
    dataset







.. raw:: html

    <div class="output_subarea output_html rendered_html output_result">
    <table style='width: 100%;'><tr><th>Header</th><th>Data Arrays</th></tr><tr><td>
    <table style='width: 100%;'>
    <tr><th>PolyData</th><th>Information</th></tr>
    <tr><td>N Cells</td><td>1680</td></tr>
    <tr><td>N Points</td><td>842</td></tr>
    <tr><td>N Strips</td><td>0</td></tr>
    <tr><td>X Bounds</td><td>-4.993e-01, 4.993e-01</td></tr>
    <tr><td>Y Bounds</td><td>-4.965e-01, 4.965e-01</td></tr>
    <tr><td>Z Bounds</td><td>-5.000e-01, 5.000e-01</td></tr>
    <tr><td>N Arrays</td><td>1</td></tr>
    </table>

    </td><td>
    <table style='width: 100%;'>
    <tr><th>Name</th><th>Field</th><th>Type</th><th>N Comp</th><th>Min</th><th>Max</th></tr>
    <tr><td>Normals</td><td>Points</td><td>float32</td><td>3</td><td>-1.000e+00</td><td>1.000e+00</td></tr>
    </table>

    </td></tr> </table>
    </div>
    <br />
    <br />

.. GENERATED FROM PYTHON SOURCE LINES 94-106

Plots and images
~~~~~~~~~~~~~~~~
If you use anything that outputs an image (for example,
:func:`pyvista.Plotter.show`) the resulting image will be rendered within the
output HTML.

.. note::
   Unless ``sphinx_gallery_thumbnail_number = <int>`` is included at the top
   of the example script, first figure (this one) will be used for the
   gallery thumbnail image.

   Also note that this image number uses one based indexing.

.. GENERATED FROM PYTHON SOURCE LINES 106-110

.. code-block:: default


    dataset.plot(text='Example Figure')









.. tab-set::



   .. tab-item:: Static Scene



            
     .. image-sg:: /examples/99-advanced/images/sphx_glr_add-example_001.png
        :alt: add example
        :srcset: /examples/99-advanced/images/sphx_glr_add-example_001.png
        :class: sphx-glr-single-img
     


   .. tab-item:: Interactive Scene



       .. offlineviewer:: /home/runner/work/pyvista-doc-translations/pyvista-doc-translations/pyvista/doc/source/examples/99-advanced/images/sphx_glr_add-example_001.vtksz






.. GENERATED FROM PYTHON SOURCE LINES 111-120

Caveat - Plotter must be within One Cell
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
It's not possible for a single :class:`pyvista.Plotter` object across
multiple cells because these are closed out automatically at the end of a
cell.

Here we just exercise the :class:`pyvista.Actor` ``repr`` for demonstrating
why you might want to instantiate a plotter without showing it in the same
cell.

.. GENERATED FROM PYTHON SOURCE LINES 120-126

.. code-block:: default


    pl = pv.Plotter()
    actor = pl.add_mesh(dataset)
    actor






.. image-sg:: /examples/99-advanced/images/sphx_glr_add-example_002.png
   :alt: add example
   :srcset: /examples/99-advanced/images/sphx_glr_add-example_002.png
   :class: sphx-glr-single-img




.. rst-class:: sphx-glr-script-out

 .. code-block:: none


    Actor (0x7f875a30a080)
      Center:                     (0.0, 0.0, 0.0)
      Pickable:                   True
      Position:                   (0.0, 0.0, 0.0)
      Scale:                      (1.0, 1.0, 1.0)
      Visible:                    True
      X Bounds                    -4.993E-01, 4.993E-01
      Y Bounds                    -4.965E-01, 4.965E-01
      Z Bounds                    -5.000E-01, 5.000E-01
      User matrix:                Set
      Has mapper:                 True

    Property (0x7f8753566080)
      Ambient:                     0.0
      Ambient color:               Color(name='lightblue', hex='#add8e6ff', opacity=255)
      Anisotropy:                  0.0
      Color:                       Color(name='lightblue', hex='#add8e6ff', opacity=255)
      Culling:                     "none"
      Diffuse:                     1.0
      Diffuse color:               Color(name='lightblue', hex='#add8e6ff', opacity=255)
      Edge color:                  Color(name='black', hex='#000000ff', opacity=255)
      Edge opacity:                1.0
      Interpolation:               InterpolationType.FLAT
      Lighting:                    True
      Line width:                  1.0
      Metallic:                    0.0
      Opacity:                     1.0
      Point size:                  5.0
      Render lines as tubes:       False
      Render points as spheres:    False
      Roughness:                   0.5
      Show edges:                  False
      Specular:                    0.0
      Specular color:              Color(name='lightblue', hex='#add8e6ff', opacity=255)
      Specular power:              100.0
      Style:                       "Surface"

    DataSetMapper (0x7f8753566080)
      Scalar visibility:           False
      Scalar range:                (0.0, 1.0)
      Interpolate before mapping:  True
      Scalar map mode:             default
      Color mode:                  direct

    Attached dataset:
    PolyData (0x7f87610415a0)
      N Cells:    1680
      N Points:   842
      N Strips:   0
      X Bounds:   -4.993e-01, 4.993e-01
      Y Bounds:   -4.965e-01, 4.965e-01
      Z Bounds:   -5.000e-01, 5.000e-01
      N Arrays:   1



.. GENERATED FROM PYTHON SOURCE LINES 127-130

This Cell Cannot Run the Plotter
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
The plotter will already be closed by ``sphinx_gallery``.

.. GENERATED FROM PYTHON SOURCE LINES 130-139

.. code-block:: default


    # This cannot be run here because the plotter is already closed and would raise
    # an error:
    # >>> pl.show()

    # You can, however, close out the plotter or access other attributes.
    pl.close()









.. GENERATED FROM PYTHON SOURCE LINES 140-147

Animations
~~~~~~~~~~
You can even create animations, and while there is a full example in
:ref:`movie_example`, this cell explains how you can create an animation
within a single cell.

Here, we explode a simple sphere.

.. GENERATED FROM PYTHON SOURCE LINES 147-171

.. code-block:: default


    pl = pv.Plotter(off_screen=True)

    # optimize for size
    pl.open_gif('example_movie.gif', palettesize=16)

    sphere = pv.Sphere(theta_resolution=10, phi_resolution=10)

    # Add initial mesh to setup the camera
    actor = pl.add_mesh(sphere)
    pl.background_color = 'w'

    # clear and overwrite the mesh on each frame
    n_frames = 20
    for i in range(n_frames):
        exploded = sphere.explode(factor=i / (n_frames * 2)).extract_surface()
        actor.mapper.dataset.copy_from(exploded)
        pl.camera.reset_clipping_range()
        pl.write_frame()  # Write this frame

    # Be sure to close the plotter when finished
    pl.close()






.. image-sg:: /examples/99-advanced/images/sphx_glr_add-example_003.gif
   :alt: add example
   :srcset: /examples/99-advanced/images/sphx_glr_add-example_003.gif
   :class: sphx-glr-single-img







.. GENERATED FROM PYTHON SOURCE LINES 172-181

Adding Example Files
~~~~~~~~~~~~~~~~~~~~
PyVista has a variety of example files all stored at `pyvista/vtk_data
<https://github.com/pyvista/vtk-data>`_, and you can add the file by
following the directions there.

Under the hood, PyVista uses `pooch <https://github.com/fatiando/pooch>`_,
and you can easily access any files added with
:func:`pyvista.examples.downloads.download_file`.

.. GENERATED FROM PYTHON SOURCE LINES 181-186

.. code-block:: default


    filename = examples.download_file('bunny.ply')
    filename






.. rst-class:: sphx-glr-script-out

 .. code-block:: none


    '/home/runner/.cache/pyvista_3/bunny.ply'



.. GENERATED FROM PYTHON SOURCE LINES 187-197

Adding a Wrapped Example
~~~~~~~~~~~~~~~~~~~~~~~~
While it's possible to simply download a file and then read it in, it's
better for you to write a wrapped ``download_<example-dataset>()`` within
``/pyvista/examples/downloads.py``. For example :func:`download_bunny()
<pyvista.examples.downloads.download_bunny>` downloads and reads with
:func:`pyvista.read`.

If you intend on adding an example file, you should add a new function in
``downloads.py`` to make it easy for users to add example files.

.. GENERATED FROM PYTHON SOURCE LINES 197-215

.. code-block:: default


    dataset = examples.download_bunny()
    dataset


    # Making a Pull Request
    # ~~~~~~~~~~~~~~~~~~~~~
    # Once your example is complete and you've verified it builds locally, you can
    # make a pull request (PR).
    #
    # Branches containing examples should be prefixed with `docs/` as per the branch
    # naming conventions found in out `Contributing Guidelines
    # <https://github.com/pyvista/pyvista/blob/main/CONTRIBUTING.rst>`_.
    #
    # .. note::
    #    You only need to create the Python source example (``*.py``).  The jupyter
    #    notebook and the example HTML will be auto-generated via `sphinx-gallery
    #    <https://sphinx-gallery.github.io/>`_.





.. raw:: html

    <div class="output_subarea output_html rendered_html output_result">

    <table style='width: 100%;'>
    <tr><th>PolyData</th><th>Information</th></tr>
    <tr><td>N Cells</td><td>69451</td></tr>
    <tr><td>N Points</td><td>35947</td></tr>
    <tr><td>N Strips</td><td>0</td></tr>
    <tr><td>X Bounds</td><td>-9.469e-02, 6.101e-02</td></tr>
    <tr><td>Y Bounds</td><td>3.299e-02, 1.873e-01</td></tr>
    <tr><td>Z Bounds</td><td>-6.187e-02, 5.880e-02</td></tr>
    <tr><td>N Arrays</td><td>0</td></tr>
    </table>


    </div>
    <br />
    <br />


.. rst-class:: sphx-glr-timing

   **Total running time of the script:** (0 minutes 2.171 seconds)


.. _sphx_glr_download_examples_99-advanced_add-example.py:

.. only:: html

  .. container:: sphx-glr-footer sphx-glr-footer-example




    .. container:: sphx-glr-download sphx-glr-download-python

      :download:`Download Python source code: add-example.py <add-example.py>`

    .. container:: sphx-glr-download sphx-glr-download-jupyter

      :download:`Download Jupyter notebook: add-example.ipynb <add-example.ipynb>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
