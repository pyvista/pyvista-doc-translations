
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "examples/02-plot/distance-along-spline.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        :ref:`Go to the end <sphx_glr_download_examples_02-plot_distance-along-spline.py>`
        to download the full example code

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_examples_02-plot_distance-along-spline.py:


.. _distance_labels_example:

Label based on Distance on Line
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Create a spline and generate labels along the spline based on distance along a
spline.

This is an extension of the :ref:`create_spline_example`.

.. GENERATED FROM PYTHON SOURCE LINES 13-18

.. code-block:: default


    import numpy as np

    import pyvista as pv








.. GENERATED FROM PYTHON SOURCE LINES 19-22

Create a spline
~~~~~~~~~~~~~~~
Create a spline using :func:`pyvista.Spline`.

.. GENERATED FROM PYTHON SOURCE LINES 22-37

.. code-block:: default


    # Make points along a spline
    theta = np.linspace(-1 * np.pi, 1 * np.pi, 100)
    z = np.linspace(2, -2, 100)
    r = z**2 + 1
    x = r * np.sin(theta)
    y = r * np.cos(theta)
    points = np.column_stack((x, y, z))

    # Create a spline. This automatically computes arc_length, which is the
    # distance along the line.
    spline = pv.Spline(points, 1000)
    spline.point_data






.. rst-class:: sphx-glr-script-out

 .. code-block:: none


    pyvista DataSetAttributes
    Association     : POINT
    Active Scalars  : None
    Active Vectors  : None
    Active Texture  : None
    Active Normals  : None
    Contains arrays :
        arc_length              float32    (1000,)



.. GENERATED FROM PYTHON SOURCE LINES 38-41

Determine the coordinates matching distance along a spline
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Here we write a simple function that gets the closest point matching a distance along a spline and then generate labels for those points.

.. GENERATED FROM PYTHON SOURCE LINES 41-62

.. code-block:: default



    def get_point_along_spline(distance):
        """Return the closest point on the spline given a length along the spline."""
        idx = np.argmin(np.abs(spline.point_data['arc_length'] - distance))
        return spline.points[idx]


    # distances along the spline we're interested in
    dists = [0, 4, 8, 11]

    # make labels
    labels = []
    label_points = []
    for dist in dists:
        point = get_point_along_spline(dist)
        labels.append(f'Dist {dist}: ({point[0]:.2f}, {point[1]:.2f}, {point[2]:.2f})')
        label_points.append(point)

    labels





.. rst-class:: sphx-glr-script-out

 .. code-block:: none


    ['Dist 0: (-0.00, -5.00, 2.00)', 'Dist 4: (-2.36, -2.00, 1.45)', 'Dist 8: (-0.59, 0.96, 0.35)', 'Dist 11: (1.85, 0.20, -0.93)']



.. GENERATED FROM PYTHON SOURCE LINES 63-66

Plot with Labels
~~~~~~~~~~~~~~~~
Plot the spline with labeled points

.. GENERATED FROM PYTHON SOURCE LINES 66-77

.. code-block:: default



    pl = pv.Plotter()
    pl.add_mesh(spline, scalars='arc_length', render_lines_as_tubes=True, line_width=10)
    pl.add_point_labels(
        label_points, labels, always_visible=True, point_size=20, render_points_as_spheres=True
    )
    pl.show_bounds()
    pl.show_axes()
    pl.camera_position = 'xz'
    pl.show()




.. image-sg:: /examples/02-plot/images/sphx_glr_distance-along-spline_001.png
   :alt: distance along spline
   :srcset: /examples/02-plot/images/sphx_glr_distance-along-spline_001.png
   :class: sphx-glr-single-img








.. rst-class:: sphx-glr-timing

   **Total running time of the script:** (0 minutes 0.479 seconds)


.. _sphx_glr_download_examples_02-plot_distance-along-spline.py:

.. only:: html

  .. container:: sphx-glr-footer sphx-glr-footer-example




    .. container:: sphx-glr-download sphx-glr-download-python

      :download:`Download Python source code: distance-along-spline.py <distance-along-spline.py>`

    .. container:: sphx-glr-download sphx-glr-download-jupyter

      :download:`Download Jupyter notebook: distance-along-spline.ipynb <distance-along-spline.ipynb>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
